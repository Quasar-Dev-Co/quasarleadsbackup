graph LR
    %% Core Email Response Workflow
    A[ğŸ“§ Email Received] --> B[ğŸ’¾ Store in Database]
    B --> C[ğŸ‘† User Reviews Email]
    C --> D[ğŸ¤– Generate AI Response]
    D --> E[âœï¸ Edit Response]
    E --> F[ğŸ“¤ Send Response]
    F --> G[âœ… Update Status]
    
    %% AI Generation Subprocess
    H[ğŸ“ Email Content] --> I[âš™ï¸ Load AI Settings]
    I --> J[ğŸ¤– OpenAI API Call]
    J --> K[âœï¸ Generate Response]
    K --> L[âœ… Validate & Save]
    
    %% System Components
    M[ğŸ“§ IMAP Service] --> N[ğŸ”§ Email Processing]
    N --> O[ğŸ’¾ MongoDB Database]
    O --> P[ğŸ–¥ï¸ React Frontend]
    P --> Q[ğŸ¤– OpenAI API]
    Q --> R[ğŸ“§ SMTP Service]
    
    %% Email States
    S[ğŸ“¨ UNREAD] --> T[âš™ï¸ PROCESSING]
    T --> U[âœ… RESPONDED]
    U --> V[ğŸ“ ARCHIVED]
    
    %% User Actions
    W[ğŸ‘† Select Email] --> X[ğŸ‘ï¸ Preview Email]
    X --> Y[ğŸ¤– Generate Response]
    Y --> Z[âœï¸ Edit Response]
    Z --> AA[ğŸ“¤ Send Email]
    
    %% Settings Management
    BB[âš™ï¸ Configure AI] --> CC[ğŸ“ Set Prompt]
    CC --> DD[ğŸ’¾ Save Settings]
    DD --> EE[ğŸ¤– Apply to Generation] 